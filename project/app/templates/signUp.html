{% extends "base.html" %}
{% block title %}Sign Up{% endblock %}
{%block content%}
<div class="container">
    <form method="POST" id="myform">
        <h3 align="center">Sign Up</h3>
        <div class="form-group">
            <label for="username">Username</label>
            <input
                    type="text"
                    class="form-control"
                    id="username"
                    name="username"
                    placeholder="Enter username"
            />
        </div>
        <div class="form-group">
            <label for="email">Email Address</label>
            <input
                    type="email"
                    class="form-control"
                    id="email"
                    name="email"
                    placeholder="Enter email"
            />
        </div>
        <div class="form-group">
            <label for="firstName">First Name</label>
            <input
                    type="text"
                    class="form-control"
                    id="firstName"
                    name="firstName"
                    placeholder="Enter first name"
            />
        </div>
        <div class="form-group">
            <label for="lastName">Last Name</label>
            <input
                    type="text"
                    class="form-control"
                    id="lastName"
                    name="lastName"
                    placeholder="Enter last Name"
            />
        </div>
        <div class="form-group">
            <label for="password1">Password</label>
            <input
                    type="password"
                    class="form-control"
                    id="password1"
                    name="password1"
                    placeholder="Enter your password"
            />
        </div>
        <div class="form-group">
            <label for="password2">Password(Confirm)</label>
            <input
                    type="password"
                    class="form-control"
                    id="password2"
                    name="password2"
                    placeholder="Confirm your password"
            />
        </div>
        <br/>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
<script>
   var form = document.getElementById('myform')
   form.addEventListener('submit',function(e){
       e.preventDefault()
       var username1 = document.getElementById('username').value
       var email1 = document.getElementById('email').value
       var firstname1 = document.getElementById('firstName').value
       var lastname1 = document.getElementById('lastName').value
       var password11 = document.getElementById('password1').value
       var password21 = document.getElementById('password2').value



       fetch("http://13.56.14.69/sign-up", {
           method: 'POST',
           body: JSON.stringify({
               username:username1,
               email:email1,
               firstName: firstname1,
               lastName: lastname1,
               password1: password11,
               password2: password21

           }),
           headers:{
               "Content-Type":"application/json; charset=UTF-8"
           }
       })
       .then(function(response){
           var url = "http://13.56.14.69/"
           window.location = url
           console.log(response)
       })
       .then(function(data){
           console.log("hll")
           console.log(data)
       })
   })
</script>

{% endblock %}
